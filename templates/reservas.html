{% extends "base.html" %}

{% block content %}
<h2>Gesti√≥n de Reservas</h2>
<form method="POST" action="/reservas/agregar">
    <div class="form-group">
        <label for="usuario_id">Usuario:</label>
        <select name="usuario_id" class="form-control" id="usuario_id" required>
            <option value="" selected disabled>Seleccione un usuario</option>
            {% for usuario in usuarios %}
            <option value="{{ usuario._id }}">{{ usuario.nombre }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="form-group">
        <label for="libro_id">Libro:</label>
        <select name="libro_id" class="form-control" id="libro_id" required>
            <option value="" selected disabled>Seleccione un libro</option>
            {% for libro in libros %}
            <option value="{{ libro._id }}">{{ libro.titulo }}</option>
            {% endfor %}
        </select>
    </div>
    <button type="submit" class="btn btn-primary">Registrar Reserva</button>
</form>

<hr>
<h3>Lista de Reservas</h3>
<table class="table">
    <thead>
        <tr>
            <th>Usuario</th>
            <th>Libro</th>
        </tr>
    </thead>
    <tbody>
        {% for reserva in reservas %}
        <tr>
            <td>{{ reserva.usuario_id }}</td>
            <td>{{ reserva.libro_id }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}